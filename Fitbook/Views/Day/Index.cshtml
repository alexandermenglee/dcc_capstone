@model Fitbook.ViewModel.IndexViewModel;
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Index</h1>
<div>
    @{
        for (int i = 0; i < Model.Meals.Count; i++)
        {
            <div>
                <h4>Meal @(i + 1)</h4>
                @for (int j = 0; j < Model.Meals[i].Foods.Count; j++)
                {
                    <p>@Model.Meals[i].Foods[j].FoodName</p>
                    <p>@Model.Meals[i].Foods[j].Carbohydrates</p>
                    <p>@Model.Meals[i].Foods[j].Protein</p>
                    <p>@Model.Meals[i].Foods[j].Fat</p>
                }
                @*<form asp-action="AddFood" method="post"></form>*@

                @using (Html.BeginForm("SearchFood", "Food"))
                {
                    <input type="hidden" name="mealId" value="@Model.Meals[i].MealId" />
                    <input type="submit" value="Add Food" />
                }

            </div>
        }
    }
    <form asp-action="AddMeal" method="post">
        <input type="hidden" name="dayId" value="@Model.Day.DayId" />
        <input type="submit" value="Add Meal" />
    </form>
</div>


