@model Fitbook.ViewModel.IndexViewModel;
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Index</h1>
<a asp-controller="Food" asp-action="SearchFoodInDatabase">Compare Food With Macros</a>
@* Displays food *@
<div>
    @{
        for (int i = 0; i < Model.Meals.Count; i++)
        {
            <div>
                <h4>Meal @(i + 1)</h4>
                @for (int j = 0; j < Model.Meals[i].Foods.Count; j++)
                {
                    <p>@Model.Meals[i].Foods[j].FoodName</p>
                    <p>Carbs: @Model.Meals[i].Foods[j].Carbohydrates</p>
                    <p>Protein: @Model.Meals[i].Foods[j].Protein</p>
                    <p>Fat: @Model.Meals[i].Foods[j].Fat</p>
                }
                <br />
                @using (Html.BeginForm("SearchFood", "Food"))
                {
                    <input type="hidden" name="mealId" value="@Model.Meals[i].MealId" />
                    <input type="submit" value="Add Food" />
                    <br />
                    <hr />
                }
            </div>
        }
    }
    <form asp-action="AddMeal" method="post">
        <input type="hidden" name="dayId" value="@Model.Day.DayId" />
        <input type="submit" value="Add Meal" />
    </form>
    <hr />
    <div>
        @{
            <h5>Daily Caloric Intake</h5>
            <div>Total Carbohydrates:  @Model.Day.Carbohydates</div>
            <div>Total Protein:  @Model.Day.Protein</div>
            <div>Total Fat: @Model.Day.Fat</div>
            <div>Total Calories: @Model.Day.Calories</div>
        }
    </div>
    <div>
        <h5>Your Macronutrients</h5>
        <div>Carbohydrates: @Model.fitbookUsersMacronutrients.Carbohydrates</div>
        <div>Protein: @Model.fitbookUsersMacronutrients.Protein</div>
        <div>Fat: @Model.fitbookUsersMacronutrients.Fat</div>
        <div>Daily Caloric Goal: @Model.fitbookUsersMacronutrients.DailyCalories</div>
    </div>
</div>


